<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mobile Revolver Game</title>
<style>
  body {
    background: #111;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    min-height: 100vh;
    color: white;
    font-family: Arial, sans-serif;
    overflow: hidden;
  }

  .gun-container {
    position: relative;
    margin-left: -50;
    margin-top: 10px;
    width: 95vw;
    max-width: 500px;
  }

  .gun-container img {
    width: 130%;
    position: relative;
    left: -50px;
    transform: rotate(-90deg);
    transition: transform 0.1s ease;
  }

  .shake {
    animation: shakeAnim 0.2s;
  }

  @keyframes shakeAnim {
    0% { transform: rotate(-90deg) translateX(0); }
    25% { transform: rotate(-90deg) translateX(-5px); }
    50% { transform: rotate(-90deg) translateX(5px); }
    75% { transform: rotate(-90deg) translateX(-3px); }
    100% { transform: rotate(-90deg) translateX(0); }
  }

  .flash {
    position: absolute;
    top: 8%;
    left: 65%;
    width: 180px;
    height: 180px;
    background: radial-gradient(circle, yellow 0%, orange 40%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
    pointer-events: none;
  }

  @keyframes muzzleFlash {
    0% { opacity: 1; transform: scale(2); }
    100% { opacity: 0; transform: scale(0.5); }
  }

  .flash.active {
    animation: muzzleFlash 0.25s forwards;
  }

  .buttons-container {
    display: flex;
    gap: 20px;
    margin-top: 20px;
    flex-wrap: wrap;
    justify-content: center;
  }

  button {
    padding: 15px 30px;
    font-size: 1.2rem;
    margin-top: 150px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: #444;
    color: white;
  }

  button:active {
    background: #666;
  }

  .credit {
    font-size: 0.8rem;
    text-align: center;
    margin-top: 10px;
  }
  .credit a { color: #ffcc00; text-decoration: none; }

  .death-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255,0,0,0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 3rem;
    font-weight: bold;
    text-align: center;
    z-index: 999;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s;
  }

  .death-overlay.active {
    opacity: 1;
    pointer-events: auto;
  }
</style>
</head>
<body>
  <div class="gun-container">
    <img id="gun" src="https://pngimg.com/uploads/revolver/revolver_PNG1.png" alt="Revolver">
    <div class="flash" id="flash"></div>
  </div>

  <div class="buttons-container">
    <button onclick="spin()">ðŸ”„ Spin</button>
    <button onclick="pullTrigger()">ðŸ”« Trigger</button>
  </div>

  <!-- Sounds -->
  <audio id="fireSound">
    <source src="https://www.soundjay.com/mechanical/sounds/gun-gunshot-01.mp3" type="audio/mpeg">
  </audio>
  <audio id="poofSound">
    <source src="https://freesound.org/data/previews/529/529931_11672933-lq.mp3" type="audio/mpeg">
  </audio>
  <audio id="spinSound">
    <source src="https://www.soundjay.com/button/sounds/button-16.mp3" type="audio/mpeg">
  </audio>

  <div class="death-overlay" id="deathOverlay">YOU ARE DEAD</div>

  <p class="credit">Gun image from <a href="https://pngimg.com/free-png/revolver" target="_blank">PNGimg</a></p>

  <script>
    let bulletPosition = 1;
    let currentChamber = 1;

    function spin() {
      bulletPosition = Math.floor(Math.random() * 6) + 1;
      currentChamber = 1;

      // Play spin sound
      const spinSound = document.getElementById('spinSound');
      spinSound.currentTime = 0;
      spinSound.play();
    }

    function pullTrigger() {
      const gun = document.getElementById('gun');
      const flash = document.getElementById('flash');
      const fireSound = document.getElementById('fireSound');
      const poofSound = document.getElementById('poofSound');
      const deathOverlay = document.getElementById('deathOverlay');

      // Shake animation
      gun.classList.add('shake');
      setTimeout(() => gun.classList.remove('shake'), 200);

      if (currentChamber === bulletPosition) {
        // Fire!
        flash.classList.add('active');
        fireSound.currentTime = 0;
        fireSound.play();

        deathOverlay.classList.add('active');
        setTimeout(() => deathOverlay.classList.remove('active'), 3000); // 3 seconds

        setTimeout(() => flash.classList.remove('active'), 250);
      } else {
        // Play poof sound when trigger is pulled but no fire
        poofSound.currentTime = 0;
        poofSound.play();
      }

      currentChamber++;
      if (currentChamber > 6) currentChamber = 1;
    }
  </script>
</body>
</html>

